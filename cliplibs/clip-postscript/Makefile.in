#
#                                            clip-postscript/Makefile.in
#
# This is a part of clip-postscript library
#
# Copyright (C) 2007 by E/AS Software Foundation
# Author: Andrey Cherepanov <skull@eas.lrn.ru>

#CLIP = $(CLIPROOT)/bin/clip

Local_Depend = include/*.ch
.SUFFIXES: .prg .o .po
PROG = clip-postscrip
#TARGET  = libclip-postscript$(DLLSUFF)
#RTARGET = libclip-postscript$(DLLREALSUFF)
CLIPFLAGS += -n
OBJS    = psblock.o pscode.o psform.o pspage.o pspagesettings.o \
		  psprinter.o psstyle.o pstemplate.o psvariable.o

.PHONY: all clean uninstall distclean

all : Makefile $(STARGET)

cfg :
	cp --remove-destination -fpu$(V) include/clip-postscript.ch $(Clip_I_Dir)/

#$(TARGET): $(OBJS)
#	$(CLIP_MAKESLIB) $(TARGET) $(OBJS) $(C_LIBS)

cleanc:
	rm -f$(V) $(TARGET).* *.dll.a *.c
#	cd example && $(MAKE) clean

install: all install-lib install-example
#	mkdir -p$(V) $(DESTDIR)/lib
#	mkdir -p$(V) $(DESTDIR)/include
#	$(CLIP_CP) $(TARGET) $(DESTDIR)/lib
#	$(CLIP_CP) $(RTARGET) $(DESTDIR)/lib
#test -f $(DESTDIR)/usr/lib/$(TARGET) || ln -s $(DESTDIR)$(CLIPROOT)/lib/$(TARGET) $(DESTDIR)/usr/lib
#/sbin/ldconfig -n $(DESTDIR)/usr/lib
#	mkdir -p$(V) $(DESTDIR)/doc/example/clip-postscript
#	cp -Ru$(V) example/* $(DESTDIR)/doc/example/clip-postscript/

uninstall:
	rm -rf$(V) $(Clip_L_Dir)/$(TARGET).*

distclean: clean

dist: distclean
	cd .. && tar cvfz clip-postscript.tgz clip-postscript

include $(Makefile_o_in)

commit:
	_cvs commit

update:
	_cvs update -dP

ucommit:
	_cvs update -dP && _cvs commit

shell:
	sh

include $(Makefile_end_in)

