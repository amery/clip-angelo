#
#                                            clip-postgres/Makefile.in
#
#  GNU make makefile
#
Local_Depend 			= 			include/*.ch
PROG 						= 			clip-postgres
C_FLAGS 					+= 		-I$(PGINCDIR)
PGLIB 					= 			-L$(PGLIBDIR) -lpq
OBJS 						= 			$(sort 					\
													pg_clip.o 	\
													pg.o 			\
										)

CLIPFLAGS 				+= 		-I$(PGINCDIR)
DOC 						= 			*.html
ADDLIBS 					= 			$(PGLIB)

export

######################################################################################
###################################################################################### local rules

all: Makefile  have_lib $(OBJS) $(STARGET)

hash1 :
	$(E_xx)$(Clip_M_Dir)/init/LinkAllFiles.sh clip-postgres

cfg :
	$(E_cp)cp --remove-destination -fpu$(V) include/ci_postgres.ch $(Clip_I_Dir)/

have_lib:
	$(E_if)test -f $(PGINCDIR)/libpq-fe.h

include $(Makefile_o_in)

install : all install-lib install-example install-doc

cleanc:
	$(E_rm)rm -rf$(V) pg.c $(TARGET).*

distcleanc :
	$(E_rm)rm -rf$(V) *.g

include $(Makefile_end_in)

