#
#                                            clip-postgres/Makefile.in
#
#  GNU make makefile
#
Local_Depend = include/*.ch
PROG = clip-postgres
#TARGET=libclip-postgres$(DLLSUFF)
#ATARGET=libclip-postgres.a
#RTARGET=libclip-postgres$(DLLREALSUFF)
C_FLAGS += -I@PGINCDIR@
PGLIB = -L@PGLIBDIR@ -lpq $(C_LIBS)
OBJS=pg_clip.o pg.o
CLIPFLAGS += -I@PGINCDIR@
export CFLAGS
DOC = *.html
all: Makefile  have_lib $(STARGET)

cfg :
	cp --remove-destination -fpu$(V) include/postgres.ch $(Clip_I_Dir)/

have_lib:
	test -f @PGINCDIR@/libpq-fe.h

##$(TARGET): $(OBJS)
#	$(CLIP_MAKESLIB) $(TARGET) $(OBJS) $(PGLIB)

#$(ATARGET): $(OBJS)
#	$(CLIP_MAKELIB) $(ATARGET) $(OBJS) $(PGLIB)

include $(Makefile_o_in)

install : all install-lib install-example install-doc
#	$(CLIP_CP) libclip-postgres $(DESTDIR)/lib
#	mkdir -p$(V) $(DESTDIR)/doc/clip-postgres
#	cp -fu$(V) *.html $(DESTDIR)/doc/clip-postgres
#	mkdir -p$(V) $(DESTDIR)/doc/example/clip-postgres
#	cp -Ru$(V) example/* $(DESTDIR)/doc/example/clip-postgres/

cleanc:
	rm -rf$(V) pg.c $(TARGET).*

include $(Makefile_end_in)

