#
#                                            clip-cti/Makefile.in
#
Local_Depend = include/*.ch

PROG = clip-cti

CLIPFLAGS += -n

OBJS  =	$(sort 	ctiapp.o ctibin.o ctibox.o ctibrowsecombo.o cticalendar.o 						\
						cticheckbox.o cticontainer.o cticontrol.o ctientry.o ctievents.o 				\
						ctifiled.o ctifuncs.o ctihbox.o ctilabel.o ctilayout.o ctilist.o 				\
						ctimain.o ctimenubar.o ctimenuitem.o ctimenu.o ctimenushell.o 					\
						ctiobjectlist.o ctiobject.o ctioptionmenu.o ctipalette.o 						\
						ctipushbutton.o ctiradiobutton.o ctiradiogroup.o ctisignal.o 					\
						ctistatusbar.o ctitbrowse.o ctivbox.o ctiwidget.o ctiwindow.o ctizorder.o )

CLIPLIBS =
ADDOBJS =
POBJS	=
.SUFFIXES: .prg .o .po

################################################################################################################

all: Makefile links $(STARGET)

cfg :
	$(E_mkD)mkdir -p$(V) $(Clip_I_Dir)/$(PROG)
	$(E_cp)cp --remove-destination -fpu$(V) include/*.ch $(Clip_I_Dir)/$(PROG)
	$(E_cp)cp --remove-destination -fpu$(V) include/cti.ch $(Clip_I_Dir)/
	$(E_cp)cp --remove-destination -fpu$(V) ./.calendar $(INSTDIR)/etc

d: set_dbg

export CFLAGS CLIPFLAGS

set_dbg: CLIPDBGFLAG=-g
set_dbg: all

test_clean:
	-cd test && $(MAKE) clean

cleanc:
	$(E_rm)rm -f$(V) *.c *.b
	$(E_rm)cd include && rm -f$(V) *.bak cti *.BAK $(TARGET).*

distcleanc :
	$(E_rm)rm -rf$(V) *.g

depend:
	makedepend -w80 -I./include -- *.prg 2>/dev/null

install:all install-lib install-example

rm_include:
	$(E_rm)rm -rf$(V) $(CLIPROOT)/include/cti
	$(E_rm)rm -f$(V) $(CLIPROOT)/cti.ch

links:
	$(E_if)[ -d include/cti ] \
		|| (cd include && ln -sf$(V) . cti)

include $(Makefile_o_in)

arc: example_clean test_clean clean
	tar cjfv cti.tar.bz2 . --exclude cti.tar.bz2 --exclude *.bak --exclude *.o

include $(Makefile_end_in)

