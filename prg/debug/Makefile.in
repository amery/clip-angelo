#
#                                            prg/debug/Makefile.in
#
OBJS  			= 		$(sort 					\
										init.o 		\
										cld_obj.o 	\
										menu.o 		\
										command.o 	\
										source.o 	\
										values.o 	\
										viewset.o 	\
										viewali.o 	\
										monitor.o 	\
							)

POBJS  			= 		$(addsuffix .po, $(basename $(OBJS) ) )
BIN 				= 		clip_cld$(EXESUFF)
export

######################################################################################
###################################################################################### local rules

all : Makefile $(OBJS) $(BIN)

hash1 :

cfg :

cleanc :
	$(E_rm)rm -rf$(V) *.c *.b $(BIN) test$(EXESUFF)

distcleanc :
	$(E_rm)rm -rf$(V) *.g

clip_cld$(EXESUFF) : clip_cld.prg $(OBJS) Makefile $(CLIP) $(LIBCLIP)
	$(E_clip)if [ -f $(subst .prg,.g,$<) ] ; then 		\
		$(Trace_clip_d) 	;										\
		$(CLIP) $(CLIPFLAGS) -o$@ -g -esM $< $(OBJS); 	\
	else 																\
		$(Trace_clip) 		;										\
		$(CLIP) $(CLIPFLAGS) -o$@ -e $< $(OBJS);			\
	fi

install : all
	$(E_cp)cp --remove-destination -fpu$(V) clip_cld$(EXESUFF) $(Clip_B_Dir)/

test$(EXESUFF) : test.prg Makefile
	$(Trace_clip)
	$(CLIP) $(CLIPFLAGS) -s -e -M  $<

include $(Makefile_o_in)

include $(Makefile_end_in)

