#
#                                            prg/cobra-serv/auth/Makefile.in
#
Local_Depend =

#CLIP	= $(CLIPROOT)/bin/clip

# need package libpam0g-dev

LIBS = -lpam
#CC = gcc
#CFLAGS = -O

all: Makefile pam-auth$(EXESUFF)

cfg :

pam-auth$(EXESUFF): pam-auth.c Makefile
	$(E_if)if [ -f $(subst .c,.g,$<) ] ; then 	\
		$(Trace_c_d) ; 									\
		$(CC) -g $(C_FLAGS) $< -o $@ $(LIBS) ; 	\
	else 														\
		$(Trace_c) ; 										\
		$(CC) $(C_FLAGS) $< -o $@ $(LIBS) ; 		\
	fi

cleanc:
	rm -f$(V)  pam-auth$(EXESUFF)

distcleanc :
	rm -rf$(V) *.g

install:all
	mkdir -p $(DESTDIR)/cobra/auth
	cd $(DESTDIR)/cobra/auth; rm -f$(V) pam-auth$(EXESUFF)
	cp --remove-destination -fpu$(V) Makefile make_mod.sh other pam* $(DESTDIR)/cobra/auth
	cd $(DESTDIR)/cobra/auth; test -z $(DESTDIR) && sudo ./make_mod.sh || exit 0

include $(Makefile_o_in)

include $(Makefile_end_in)

