#
#                                            prg/kamache/Makefile.in
#
Local_Depend =
#$(Clip_L_Dir)/libclip-codb.so
Local_Depend +=
# $(Clip_L_Dir)/libclip-r2d2.so


CLIPLIBS  = -L$(Clip_L_Dir) -lclip-codb -lclip-r2d2
OBJS  =
#cobra_conn.o
CHS  =
#corba_serv.ch
MODULES =
#module1.po codbtview.po
.SUFFIXES: .prg .o .po

DIRS_TO_SCAN = mod-ini mod-clip

################################################################################################################

all : Makefile $(DIRS_TO_SCAN) kamache$(EXESUFF) $(MODULES) #AUTH WRAP

cfg :

cleanc :
	$(E_rm)rm -rf$(V) *.c *.b
	$(E_rm)rm -rf$(V) kamache$(EXESUFF) *.pro

distcleanc :
	$(E_rm)rm -rf$(V) *.g

kamache$(EXESUFF) : kamache.prg $(CHS) $(OBJS) Makefile $(CLIP) $(LIBCLIP)
	$(E_if)if [ -f $(subst .prg,.g,$<) ] ; then 							\
		$(Trace_clip_d) 	;														\
		$(CLIP) $(CLIPFLAGS) -g -o $@ -es $< $(OBJS) $(CLIPLIBS) ;	\
	else 																				\
		$(Trace_clip) 		;														\
		$(CLIP) $(CLIPFLAGS) --debug=0 -o $@ -es $< $(OBJS) $(CLIPLIBS) ;		\
	fi

install : all
	$(E_mkD)mkdir -p$(V) $(INSTDIR)/kamache/mod-cache
	$(E_cp)cp --remove-destination -fpu$(V) kamache$(EXESUFF) $(INSTDIR)/kamache
	$(E_cp)cp --remove-destination -fpu$(V) kamache.ini $(INSTDIR)/kamache

include $(Makefile_o_in)

include $(Makefile_end_in)

