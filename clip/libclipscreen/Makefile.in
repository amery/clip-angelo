#
#                                            clip/libclipscreen/Makefile.in
#
Local_Depend = ../include/*.ch ../include.h/*.h
OBJS = $(sort tcaps.o termgoto.o screen.o scankey.o keymap.o)
PROG = clipscreen
PROGS = kbd$(EXESUFF) cmap$(EXESUFF)

KBDOBJS = scankey.o keymap.o kbd.o
CMAPOBJS = charset.o cmap.o

################################################################################################################

install all: Makefile $(ATARGET)

cfg :
	$(E_mkD)mkdir -p$(V) $(Clip_I_Dir)/libclipscreen
	$(E_cp)cp --remove-destination -fu$(V) *.h $(Clip_I_Dir)/libclipscreen/
	$(E_cp)cp --remove-destination -fu$(V) charset.h $(Clip_I_Dir)/
	$(E_cp)cp --remove-destination -Rfu$(V) install/* $(INSTDIR)/

kbd$(EXESUFF): $(KBDOBJS) Makefile
	$(E_e)$(Trace_c)
	$(E_cc)$(CC) $(CFLAGS) -o kbd $(KBDOBJS)


cmap$(EXESUFF):	$(CMAPOBJS) Makefile
	$(E_e)$(Trace_c)
	$(E_cc)$(CC) $(CFLAGS) -o cmap$(EXESUFF) $(CMAPOBJS)

cleanc:
	$(E_rm)rm -f$(V) *.b $(PROGS) $(ATARGET)

distcleanc :
	$(E_rm)rm -rf$(V) *.g

testscr$(EXESUFF): testscr.o  Makefile $(ATARGET) charset.o Makefile
	$(E_e)$(Trace_c)
	$(CC) $(CFLAGS) -o testscr$(EXESUFF) testscr.o $(ATARGET) charset.o -lgpm

include $(Makefile_o_in)

include $(Makefile_end_in)

