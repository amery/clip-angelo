#
#                                            prg/utils/Makefile.in
#
xDevilFLAGS 			+= 		-o$@
PGLIBS 				= 			libpgxDevil.a libpq.a libcrypt.a
MSLIBS 				= 			libmsxDevil.a libmysqlclient.a
POBJS					= 			menu.po getfile.po
PAOBJS				= 			menu.po getfile.po
prg_files 			= 			$(sort 								\
												xDevil_mk_depend.prg 	\
									)
#												xDevil_run.prg 			\
#												xDevil_prg.prg 			\
#												xDevil_we.prg 			\
#												xDevil_bl.prg 			\
#												www_xDevil.prg 			\
#												wcl2prg.prg 			\
#												xDevil_blank.prg 		\
#												sqlrun.prg  			\
#												xDevil_hv.prg 			\
#												xDevil_fl.prg 			\
#												xDevil_dbf2txt.prg 		\
#
SRC_C_files 		= 			$(sort $(c_files) )
SRC_PRG_files 		= 			$(sort $(prg_files) )

exe_files 			= 			$(addsuffix $(EXESUFF), $(basename $(prg_files) ) )

export

######################################################################################
###################################################################################### local rules

all: $(exe_files)

hash1 :

cfg :

cleanc:
	$(E_rm)rm -rf$(V) *.c *.b
	$(E_rm)rm -rf$(V) $(exe_files)

distcleanc :
	$(E_rm)rm -rf$(V) *.g

include $(Makefile_o_in)

install:all
	$(E_cp)cp --remove-destination -fpu$(V) $(exe_files) $(INSTDIR)/bin
	$(E_ln)ln -sf$(V) $(INSTDIR)/bin/* $(BINDIR)/
	$(E_cp)cp --remove-destination -fpu$(V) .macro $(INSTDIR)/etc
	$(E_cp)cp --remove-destination -fpu$(V) .templ $(INSTDIR)/etc

xDevil_prg$(EXESUFF): xDevil_prg.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $< ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_run$(EXESUFF): xDevil_run.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_bl$(EXESUFF): xDevil_bl.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_mk_depend$(EXESUFF) :  xDevil_mk_depend.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .o,.g,$<) ] ; then 		\
		$(Trace_xDevil_d) ; 									\
		$(xDevil) $(xDevilFLAGS) -g -es -o $@ $< ; 		\
	else 															\
		$(Trace_xDevil) ; 										\
		$(xDevil) $(xDevilFLAGS) -es -o $@ $< ; 			\
	fi

xDevil_we$(EXESUFF): xDevil_we.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_hv$(EXESUFF): xDevil_hv.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_fl$(EXESUFF): xDevil_fl.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_dbf2txt$(EXESUFF): xDevil_dbf2txt.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -M -g -o $@ -e $<  ;		\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -M -o $@ -e $<  ;			\
	fi

xDevil_blank$(EXESUFF): xDevil_blank.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -g -o $@ -e $<  ;			\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -o $@ -e $<  ;				\
	fi

www_xDevil$(EXESUFF): www_xDevil.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -g -o $@ -e $<  ;			\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -o $@ -e $<  ;				\
	fi

wcl2prg$(EXESUFF): wcl2prg.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -g -o $@ -e $<  ;			\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -o $@ -e $<  ;				\
	fi

sqlrun$(EXESUFF): sqlrun.prg Makefile $(xDevil) $(FULL_LIBxDevil)
	$(E_xDevil)if [ -f $(subst .prg,.g,$<) ] ; then 	\
		$(Trace_xDevil_d) 	;									\
		$(xDevil) $(xDevilFLAGS) -g -o $@ -e $<  ;			\
	else 															\
		$(Trace_xDevil) 		;									\
		$(xDevil) $(xDevilFLAGS) -o $@ -e $<  ;				\
	fi

include $(Makefile_end_in)

